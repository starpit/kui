/* eslint-disable @typescript-eslint/camelcase */
export const CURRENT_TAB = '.kui--tab-content.visible'
export const TAB_N = (N: number) => `.kui--tab-content:nth-child(${N})`
export const TAB_SELECTED_N = (N: number) => `${TAB_N(N)}.visible`

export const SIDECAR_BASE = `${CURRENT_TAB} .kui--sidecar`
export const SIDECAR_FULLSCREEN = `${CURRENT_TAB} .kui--sidecar.visible.maximized:not(.minimized)`
export const TERMINAL_WITH_SIDECAR_VISIBLE = `${CURRENT_TAB} .repl.sidecar-visible`
const _PROMPT_BLOCK = '.repl-block'
export const PROMPT_BLOCK = `${CURRENT_TAB} .repl ${_PROMPT_BLOCK}`
export const WELCOME_BLOCK = `${PROMPT_BLOCK} .kui--repl-message.kui--session-init-done`
export const BOTTOM_PROMPT_BLOCK = `${CURRENT_TAB} .kui--input-stripe .repl-block`
export const BOTTOM_PROMPT = `${BOTTOM_PROMPT_BLOCK} input`
export const STATUS_STRIPE_BLOCK = '.kui--status-stripe .kui--input-stripe .repl-block'
export const STATUS_STRIPE_PROMPT = `${STATUS_STRIPE_BLOCK} input`
export const OOPS = `${CURRENT_TAB} .repl .repl-block .oops`
export const SIDECAR = `${SIDECAR_BASE}.visible:not(.minimized)`
export const SIDECAR_WITH_FAILURE = `${SIDECAR_BASE}.visible.activation-success-false`
export const SIDECAR_ACTIVATION_TITLE = `${SIDECAR} .kui--sidecar-entity-name-hash .bx--link`
export const SIDECAR_TITLE = `${SIDECAR} .kui--sidecar-entity-name .bx--link`
export const SIDECAR_HERO_TITLE = `${SIDECAR} .sidecar-header .sidecar-header-name`
export const SIDECAR_LEFTNAV_TITLE = `${SIDECAR} .sidecar-header-name-content .bx--side-nav__submenu-title`
export const SIDECAR_HEADER_NAVIGATION = `${SIDECAR} .kui--sidecar--titlebar-navigation`
export const SIDECAR_BREADCRUMBS = `${SIDECAR_HEADER_NAVIGATION} .bx--breadcrumb .bx--breadcrumb-item .bx--link`
export const SIDECAR_PACKAGE_NAME_TITLE = `${SIDECAR} .kui--sidecar-entity-namespace .bx--link`
export const SIDECAR_POPUP_TITLE = SIDECAR_TITLE
export const SIDECAR_POPUP_HERO_TITLE = SIDECAR_HERO_TITLE
export const SIDECAR_KIND = `${SIDECAR} .kui--sidecar-kind .bx--link`
export const SIDECAR_CONTENT = `${SIDECAR} .sidecar-content`
export const SIDECAR_WEB_ACTION_URL = `${SIDECAR} .sidecar-header .entity-web-export-url.has-url`
export const SIDECAR_ACTION_SOURCE = `${SIDECAR_CONTENT} .action-content .action-source`
export const SIDECAR_PACKAGE_PARAMETERS = `${SIDECAR_CONTENT} .package-content .package-source`
export const SIDECAR_ACTIVATION_RESULT = `${SIDECAR_CONTENT} .activation-result`
export const SIDECAR_ACTIVATION_ID = `${SIDECAR} .kui--sidecar-entity-name-hash .bx--link`
export const SIDECAR_RULE_CANVAS = `${SIDECAR} .rule-components`
export const SIDECAR_RULE_CANVAS_NODES = `${SIDECAR_RULE_CANVAS} .sequence-component`
export const SIDECAR_SEQUENCE_CANVAS = `${SIDECAR} #wskflowSVG`
export const SIDECAR_SEQUENCE_CANVAS_NODES = `${SIDECAR_SEQUENCE_CANVAS} .node.action`
export const SIDECAR_SEQUENCE_CANVAS_NODE_N = (N: number) => `${SIDECAR_SEQUENCE_CANVAS_NODES}[data-task-index="${N}"]`
export const SIDECAR_LIMIT = (type: string) => `${SIDECAR} .sidecar-header .limits .limit[data-limit-type="${type}"]`
export const SIDECAR_BADGES = `${SIDECAR} .sidecar-header .badges`

// top tab stripe buttons
const TOP_TAB_BUTTONS = `#kui--custom-top-tab-stripe-button-container`
export const TERMINAL_AND_SIDECAR_BUTTON = `${TOP_TAB_BUTTONS} [data-mode="show terminal and sidecar"]`
export const ONLY_TERMINAL_BUTTON = `${TOP_TAB_BUTTONS} [data-mode="show only terminal"]`
export const TERMINAL_AND_WATCHER_BUTTON = `${TOP_TAB_BUTTONS} [data-mode="show terminal and watcher"]`
export const TERMINAL_SIDECAR_WATCHER_BUTTON = `${TOP_TAB_BUTTONS} [data-mode="show terminal sidecar and watcher"]`

// sidecar toolbar
export const SIDECAR_TOOLBAR = `${SIDECAR} .bx--tab-content[aria-hidden="false"] .sidecar-bottom-stripe-toolbar`
export const SIDECAR_TOOLBAR_TEXT = (type: string) =>
  `${SIDECAR_TOOLBAR} .sidecar-toolbar-text[data-type="${type}"] .sidecar-toolbar-text-content`
export const SIDECAR_TOOLBAR_BUTTON = (mode: string) =>
  `${SIDECAR_TOOLBAR} .sidecar-bottom-stripe-mode-bits .sidecar-bottom-stripe-button[data-mode="${mode}"] [role="tab"]`

// sidecar alert
export const SIDECAR_ALERT = (type: string) =>
  `${SIDECAR} .bx--tab-content[aria-hidden="false"] .kui--toolbar-alert[data-type="${type}"]`

// terminal alert
export const TERMINAl_ALERT = (type: string) => `.kui--terminal-alert[data-type="${type}"]`

// sidecar tab content, for visible tab
export const SIDECAR_TAB_CONTENT = `${SIDECAR} .bx--tab-content[aria-hidden="false"] .custom-content`
export const SIDECAR_CUSTOM_CONTENT = `${SIDECAR_TAB_CONTENT} .code-highlighting`

// top nav sidecar
export const SIDECAR_MODE_BUTTONS = `${SIDECAR} .sidecar-bottom-stripe-mode-bits .sidecar-bottom-stripe-button` // all mode buttons in the bottom stripe
export const SIDECAR_MODE_BUTTON = (mode: string) => `${SIDECAR_MODE_BUTTONS}[data-mode="${mode}"]` // specific mode button in the bottom stripe
export const SIDECAR_MODE_BUTTON_SELECTED = (mode: string) =>
  `${SIDECAR_MODE_BUTTON(mode)}.bx--tabs__nav-item--selected`

// left nav sidecar
export const SIDECAR_NAV_COMMAND_LINKS = (link: string) =>
  `${SIDECAR} .bx--side-nav__item .bx--side-nav__link.kui--nav-command-link[data-link="${link}"]`
export const SIDECAR_NAV_HREF_LINKS = (link: string) =>
  `${SIDECAR} .bx--side-nav__item .bx--side-nav__link.kui--nav-href-link[data-link="${link}"]`
export const SIDECAR_MODE_BUTTONS_V2 = `${SIDECAR} .bx--side-nav__menu .bx--side-nav__link` // all mode buttons in the left nav
export const SIDECAR_MODE_BUTTON_V2 = (mode: string) => `${SIDECAR_MODE_BUTTONS_V2}[data-mode="${mode}"]` // specific mode button in the left nav
export const SIDECAR_MODE_BUTTON_SELECTED_V2 = (mode: string) =>
  `${SIDECAR_MODE_BUTTON_V2(mode)}.bx--side-nav__link--current`

export const SIDECAR_BACK_BUTTON = `${SIDECAR_HEADER_NAVIGATION} .kui--sidecar--titlebar-navigation--back`
export const SIDECAR_BACK_BUTTON_DISABLED = `${SIDECAR_HEADER_NAVIGATION} .disabled .kui--sidecar--titlebar-navigation--back`
export const SIDECAR_FORWARD_BUTTON = `${SIDECAR_HEADER_NAVIGATION} .kui--sidecar--titlebar-navigation--forward`
export const SIDECAR_FORWARD_BUTTON_DISABLED = `${SIDECAR_HEADER_NAVIGATION} .disabled .kui--sidecar--titlebar-navigation--forward`

export const SIDECAR_MAXIMIZE_BUTTON = `${SIDECAR} .toggle-sidecar-maximization-button a` // maximize button in the bottom stripe
export const SIDECAR_CLOSE_BUTTON = `${SIDECAR} .sidecar-bottom-stripe-close a` // close button in the bottom stripe
export const SIDECAR_RESUME_FROM_CLOSE_BUTTON = `${SIDECAR_BASE} .sidecar-bottom-stripe-close a` // resume button in minimized mode
export const SIDECAR_FULLY_CLOSE_BUTTON = `${SIDECAR} .sidecar-bottom-stripe-quit a` // fully close button in the bottom stripe
export const SIDECAR_FULLY_CLOSED = `${CURRENT_TAB} .kui--sidecar:not([data-visible])`
export const PROCESSING_PROMPT_BLOCK = `${PROMPT_BLOCK}.repl-active`
export const CURRENT_PROMPT_BLOCK = `${PROMPT_BLOCK}.repl-active`
export const PROMPT_BLOCK_N = (N: number) => `${PROMPT_BLOCK}[data-input-count="${N}"]`
export const PROCESSING_N = (N: number) => `${PROMPT_BLOCK_N(N)}.processing`
const _PROMPT = '.repl-input-element'
export const CURRENT_PROMPT = `${CURRENT_PROMPT_BLOCK} ${_PROMPT}`
export const PROMPT_N = (N: number) => `${PROMPT_BLOCK_N(N)} ${_PROMPT}`
export const OUTPUT_N = (N: number) => `${PROMPT_BLOCK_N(N)} .repl-result`
export const OUTPUT_N_STREAMING = (N: number) => `${PROMPT_BLOCK_N(N)} [data-stream]`
export const OUTPUT_N_PTY = (N: number) => OUTPUT_N_STREAMING(N)
export const PROMPT_BLOCK_LAST = `${PROMPT_BLOCK}:nth-last-child(2)`
export const PROMPT_BLOCK_FINAL = `${PROMPT_BLOCK}:nth-last-child(1)`
export const OVERFLOW_MENU = '.kui--repl-block-right-element.kui--toolbar-button-with-icon'
export const PROMPT_BLOCK_MENU = (N: number) => `${PROMPT_BLOCK_N(N)} ${OVERFLOW_MENU}`
export const BLOCK_REMOVE_BUTTON = `${OVERFLOW_MENU} button[data-mode="Remove"]` // in carbon, this is a global
export const PROMPT_LAST = `${PROMPT_BLOCK_LAST} .repl-input-element`
export const PROMPT_FINAL = `${PROMPT_BLOCK_FINAL} .repl-input-element`
export const OUTPUT_LAST = `${PROMPT_BLOCK_LAST} .repl-result`
export const OUTPUT_LAST_STREAMING = `${PROMPT_BLOCK_LAST} [data-stream]`
export const OUTPUT_LAST_PTY = OUTPUT_LAST_STREAMING
export const LIST_RESULTS_N = (N: number) => `${PROMPT_BLOCK_N(N)} .repl-result tbody tr`
export const LIST_RESULTS_BY_NAME_N = (N: number) => `${PROMPT_BLOCK_N(N)} .repl-result [data-name]`
export const LIST_RESULT_BY_N_FOR_NAME = (N: number, name: string) => `${LIST_RESULTS_N(N)}[data-name="${name}"]`
export const TABLE_HEADER_CELL = (cellKey: string) => `thead tr th button[data-key="${cellKey}"]`
export const TABLE_CELL = (rowKey: string, cellKey: string) => `tbody [data-name="${rowKey}"] [data-key="${cellKey}"]`
export const TABLE_SHOW_AS_GRID = (N: number) => `${OUTPUT_N(N)} .kui--toolbar-button-as-grid`
export const TABLE_SHOW_AS_LIST = (N: number) => `${OUTPUT_N(N)} .kui--toolbar-button-as-list`
export const TABLE_PAGINATION_FORWARD = (N: number) =>
  `${OUTPUT_N(N)} .kui--data-table-toolbar-pagination button.bx--pagination__button--forward`
export const TABLE_PAGINATION_BACKWARD = (N: number) =>
  `${OUTPUT_N(N)} .kui--data-table-toolbar-pagination button.bx--pagination__button--backward`

const _TABLE_AS_GRID = '.kui--data-table-as-grid'
export const TABLE_AS_GRID = (N: number) => `${OUTPUT_N(N)} ${_TABLE_AS_GRID}`
export const TABLE_AS_LIST = (N: number) => `${OUTPUT_N(N)} .bx--data-table:not(.kui--data-table-as-grid)`

const _TABLE_TITLE = `.kui--data-table-title`
export const TABLE_TITLE = (N: number) => `${OUTPUT_N(N)} ${_TABLE_TITLE}`

export const TABLE_TITLE_SECONDARY = (N: number) => `${OUTPUT_N(N)} .kui--secondary-breadcrumb`
export const BY_NAME = (name: string) => `tbody [data-name="${name}"]`
export const LIST_RESULT_FIRST = 'tbody tr:first-child .clickable'
export const LIST_RESULT_BY_N_AND_NAME = (N: number, name: string) =>
  `${LIST_RESULT_BY_N_FOR_NAME(N, name)} .entity-name`
export const OK_N = (N: number) => `${PROMPT_BLOCK_N(N)} .repl-output .ok`
export const xtermRows = (N: number) => `${PROMPT_BLOCK_N(N)} .xterm-container .xterm-rows`

export const WATCHER_N = (N: number) => `.kui--card.kui--card-${N}`

export const WATCHER_N_GRID_CELL = (N: number, name: string) =>
  `${WATCHER_N(N)} .kui--sub-card ${_TABLE_AS_GRID} [data-tag="badge"][data-entity-name="${name}"]`
export const WATCHER_N_GRID_CELL_ONLINE = (N: number, name: string) =>
  `${WATCHER_N_GRID_CELL(N, name)} .green-background`
export const WATCHER_N_GRID_CELL_OFFLINE = (N: number, name: string) =>
  `${WATCHER_N_GRID_CELL(N, name)} .red-background`
export const WATCHER_N_GRID_CELL_PENDING = (N: number, name: string) =>
  `${WATCHER_N_GRID_CELL(N, name)} .yello-background`

export const WATCHER_N_TITLE = (N: number) => `${WATCHER_N(N)} ${_TABLE_TITLE}`
export const WATCHER_N_DROPDOWN = (N: number) => `${WATCHER_N(N)} .pf-c-dropdown button.pf-c-dropdown__toggle`
export const WATCHER_N_DROPDOWN_ITEM = (N: number, label: string) =>
  `${WATCHER_N(N)} .pf-c-dropdown button.pf-c-dropdown__menu-item[data-mode="${label}"]`
export const WATCHER_N_CLOSE = (N: number) => WATCHER_N_DROPDOWN_ITEM(N, 'Stop watching')
export const WATCHER_N_SHOW_AS_TABLE = (N: number) => WATCHER_N_DROPDOWN_ITEM(N, 'Show as table')

// terminal card
export const TERMINAl_CARD = `.kui--card`

/**
 * Terminal splits
 *
 */
export const NEW_SPLIT_BUTTON = '#kui--split-terminal-button'
export const SPLITS = `${CURRENT_TAB} .kui--scrollback`
export const SPLIT_N = (N: number) => `${SPLITS}:nth-child(${N})`
export const SPLIT_N_OUTPUT = (N: number) => `${SPLITS}:nth-child(${N}) .repl-output`
export const CURRENT_PROMPT_BLOCK_FOR_SPLIT = (N: number) => `${SPLIT_N(N)} ${_PROMPT_BLOCK}`
export const CURRENT_PROMPT_FOR_SPLIT = (N: number) => `${CURRENT_PROMPT_BLOCK_FOR_SPLIT(N)} ${_PROMPT}`

export const CURRENT_GRID_FOR_SPLIT = (N: number) => `${CURRENT_PROMPT_BLOCK_FOR_SPLIT(N)} ${_PROMPT} ${_TABLE_AS_GRID}`
export const CURRENT_GRID_BY_NAME_FOR_SPLIT = (N: number, name: string) =>
  `${CURRENT_PROMPT_BLOCK_FOR_SPLIT(N)} ${_TABLE_AS_GRID} [data-tag="badge"][data-entity-name="${name}"]`
export const CURRENT_GRID_ONLINE_FOR_SPLIT = (N: number, name: string) =>
  `${CURRENT_GRID_BY_NAME_FOR_SPLIT(N, name)} .green-background`
export const CURRENT_GRID_OFFLINE_FOR_SPLIT = (N: number, name: string) =>
  `${CURRENT_GRID_BY_NAME_FOR_SPLIT(N, name)} .red-background`

export const SPLIT_N_MENU = (N: number) => `${SPLIT_N(N)} ${OVERFLOW_MENU}`
export const WATCHER_CLOSE_BUTTON = (N: number) => `${SPLIT_N(N)} .kui--pinned-close-button`
export const BLOCK_CLOSE_BUTTON = `${OVERFLOW_MENU} button[data-mode="Close watcher"]`
export const BLOCK_UNPIN_BUTTON = `${OVERFLOW_MENU} button[data-mode="Show as table in terminal"]`

/** xterm */
export const ALT_BUFFER_N = (N: number) => `${CURRENT_TAB} .kui--scrollback:nth-child(${N}).xterm-alt-buffer-mode`
// eslint-disable-next-line @typescript-eslint/no-unused-vars
export const NOSPLIT_ALT_BUFFER_N = (N: number) => `${CURRENT_TAB}.xterm-alt-buffer-mode`

/** Status Stripe widgets */
const STATUS_STRIPE = '#kui--status-stripe'
export const STATUS_STRIPE_WIDGET = (which: string) => `${STATUS_STRIPE} .${which}`
export const STATUS_STRIPE_WIDGET_WITH_ATTR = (which: string, key: string, value: string) =>
  `${STATUS_STRIPE_WIDGET(which)}[data-${key}="${value}"]`
export const STATUS_STRIPE_WIDGET_LABEL = (which: string) => `${STATUS_STRIPE_WIDGET(which)} .kui--status-stripe-text`
export const STATUS_STRIPE_WIDGET_ICON_WITH_ATTR = (which: string, key: string, value: string) =>
  `${STATUS_STRIPE_WIDGET_WITH_ATTR(which, key, value)} .kui--status-stripe-icon`
export const STATUS_STRIPE_WIDGET_LABEL_WITH_ATTR = (which: string, key: string, value: string) =>
  `${STATUS_STRIPE_WIDGET_WITH_ATTR(which, key, value)} .kui--status-stripe-text`
